<div class="dashnav" style="margin-bottom: 0; margin-top: 1rem;">
    <div class="logo">Event <span class="logo-2">IO</span></div>
    <div class="navend">
        <% if (loginStatus) { %>
            <div class="sub-menu-wrap">
                <div class="dropdown">
                    <img src="/images/login-signup/profile.svg" alt="Profile Image" class="profile-img"
                        style="margin-right: 2rem;">
                    <div class="mydrop">
                        <a href="#" id="stud_btn">Home</a>
                        <a href="#" id="logoutLink">Logout</a>
                    </div>
                </div>
            </div>
            <% } else { %>
                <a href="/auth/signup" class="btn">Signup</a>
                <a href="/auth/login" class="btn-1">Login</a>
                <% } %>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {
            const hamburg = document.querySelector('.hamburg');
            const mainmenu = document.querySelector('.main-menu');
            const cross = document.querySelector('.cross');

            hamburg.addEventListener('click', function () {
                hamburg.classList.add('inactive');
                mainmenu.classList.remove('inactive');
            });

            cross.addEventListener('click', function () {
                hamburg.classList.remove('inactive');
                mainmenu.classList.add('inactive');
            });
        });

    //  if('<%= loginStatus%>' ==true){

    document.addEventListener('DOMContentLoaded', function () {
        const profileImg = document.querySelector('.profile-img');
        const mydrop = document.querySelector('.mydrop');
        const logoutLink = document.querySelector('.logout-link'); // Assuming you have an element with this class for logout

        profileImg.addEventListener('click', function () {
            mydrop.classList.toggle('show');
        });

        // Close the dropdown if the user clicks outside of it
        window.addEventListener('click', function (event) {
            if (!profileImg.contains(event.target) && !mydrop.contains(event.target)) {
                mydrop.classList.remove('show');
            }
        });

        // Prevent dropdown from closing immediately when clicking inside it
        mydrop.addEventListener('click', function (event) {
            event.stopPropagation();
        });

        // Confirm logout
        if (logoutLink) {
            logoutLink.addEventListener('click', function (event) {
                const confirmed = confirm('Are you sure you want to logout?');
                if (confirmed) {
                    window.location.href = '/auth/logout';
                }
            });
        }

        document.getElementById('stud_btn').addEventListener('click', () => {
            $(document).ready(function () {

                $.ajax({
                    url: '/organizer/check-stud',
                    method: 'GET',
                    success: function (response) {
                        console.log(response);
                        if (response.success === true) {
                            window.location.href = "/";
                        } else {
                            console.log(response.error1);
                        }
                    },
                    error: function (xhr, status, error) {
                        console.error('Error checking org_id:', error);
                    }
                });
            });
        });

    })
</script>