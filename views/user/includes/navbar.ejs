<section class="navbar">
    <nav class="nav">
        <div class="logo">Event <span class="logo-2">IO</span></div>
        <div class="navmid">
            <ul class="nav-list">
                <li><a href="/" class="an">Home</a></li>
                <li><a href="/events" class="an">Events</a></li>
                <li><a href="#" class="an">Sponser</a></li>
                <li><a href="#" class="an">Schedule</a></li>
            </ul>
        </div>
        <div class="navend">
            <% if(loginStatus) { %>
                <div class="sub-menu-wrap">
                    <div class="dropdown">
                        <img src="/images/login-signup/profile.svg" id="profile-img" alt="Profile Image" class="profile-img" style="margin-right: 2rem;">
                        <div class="mydrop">
                            <a href="/dashboard">Profile</a>
                            <a href="#" id="org2_btn">Organizer Mode</a>
                            <a href="#" id="logoutLink">Logout</a>
                        </div>
                    </div>
                </div>
            <% } else { %>
                <a href="/auth/signup" class="btn">Signup</a>
                <a href="/auth/login" class="btn-1">Login</a>
            <% } %>
        </div>
    </nav>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const profileImg = document.querySelector('.profile-img');
            const mydrop = document.querySelector('.mydrop');

            profileImg.addEventListener('click', function() {
                if (mydrop.classList.contains('show')) {
                    mydrop.classList.remove('show');
                } else {
                    mydrop.classList.add('show');
                }
            });

            // Close the dropdown if the user clicks outside of it
            window.addEventListener('click', function(event) {
                if (!profileImg.contains(event.target) && !mydrop.contains(event.target)) {
                    mydrop.style.display = 'none';
                }
            });

             // Confirm logout
             logoutLink.addEventListener('click', function(event) {
                // event.preventDefault();
                const confirmed = confirm('Are you sure you want to logout?');
                if (confirmed) {
                    window.location.href = '/auth/logout';
                }
            });
        });
    </script>
</section>